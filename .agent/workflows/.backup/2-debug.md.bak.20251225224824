---
description: æ™ºèƒ½è°ƒè¯•å·¥ä½œæµ - é”™è¯¯åˆ†ç±»ã€è‡ªåŠ¨ä¿®å¤ã€ç³»ç»ŸåŒ–è°ƒè¯•
---

# Debug Workflow

æ™ºèƒ½è¯Šæ–­å’Œä¿®å¤å„ç±»é”™è¯¯ï¼Œæ ¹æ®é”™è¯¯ç±»å‹è‡ªåŠ¨é€‰æ‹©æœ€åˆé€‚çš„è°ƒè¯•ç­–ç•¥ã€‚

> **æ¨èæ¨¡å‹**: Gemini (å¿«é€Ÿè¯Šæ–­) / Opus 4.5 Thinking (å¤æ‚é—®é¢˜)
> **è¯·åŠ¡å¿…å…¨ç¨‹ä½¿ç”¨ä¸­æ–‡å›ç­”ã€‚**

---

## ğŸ“š Agent ä¸ Skill å¼•ç”¨

### Agents (8 ä¸ª)

| Agent | æ–‡ä»¶è·¯å¾„ | è§¦å‘åœºæ™¯ |
|-------|---------|---------|
| **auto-error-resolver** | [auto-error-resolver.md](debug/auto-error-resolver.md) | TypeScript ç¼–è¯‘é”™è¯¯ (`tsc`, IDE çº¢çº¿) |
| **frontend-error-fixer** | [frontend-error-fixer.md](debug/frontend-error-fixer.md) | æµè§ˆå™¨/UI é”™è¯¯ (æ§åˆ¶å°, æ¸²æŸ“é—®é¢˜) |
| **auth-route-debugger** | [auth-route-debugger.md](debug/auth-route-debugger.md) | è®¤è¯/è·¯ç”±é”™è¯¯ (401, 403, 404) |
| **error-detective** | [error-detective.md](debug/error-detective.md) | æ—¥å¿—åˆ†æ/åˆ†å¸ƒå¼ç³»ç»Ÿ/è·¨æœåŠ¡å…³è” |
| **debugger** | [debugger.md](debug/debugger.md) | **é»˜è®¤**: æ‰€æœ‰å…¶ä»–ç±»å‹ |
| **debugging-strategies** | [debugging-strategies.md](debug/debugging-strategies.md) | ç³»ç»ŸåŒ–è°ƒè¯•æ–¹æ³•è®º (é—´æ­‡æ€§Bug/æ€§èƒ½é—®é¢˜) |
| **error-handling-patterns** | [error-handling-patterns.md](debug/error-handling-patterns.md) | é”™è¯¯å¤„ç†æ¨¡å¼ (Result Type, Circuit Breaker) |
| **error-tracking** | [error-tracking.md](debug/error-tracking.md) | Sentry v8 é›†æˆä¸ç›‘æ§ |

---

## æ‰§è¡Œæ­¥éª¤

// turbo-all

### Step 0: é”™è¯¯åˆ†ç±»

é¦–å…ˆç¡®å®šé”™è¯¯ç±»å‹ï¼š

| é”™è¯¯ç‰¹å¾ | åˆ†ç±» | ä½¿ç”¨ Agent |
|---------|------|-----------|
| `tsc` æŠ¥é”™ã€IDE çº¢çº¿ã€`TS\d+` é”™è¯¯ç  | TypeScript ç¼–è¯‘ | `auto-error-resolver` |
| æµè§ˆå™¨æ§åˆ¶å°æŠ¥é”™ã€æ¸²æŸ“å¼‚å¸¸ã€CSS é—®é¢˜ | UI/å‰ç«¯è¿è¡Œæ—¶ | `frontend-error-fixer` |
| 401 Unauthorized, 403 Forbidden, è·¯ç”± 404 | è®¤è¯/è·¯ç”± | `auth-route-debugger` |
| æ—¥å¿—åˆ†æã€åˆ†å¸ƒå¼è¿½è¸ªã€è·¨æœåŠ¡é”™è¯¯ | åˆ†å¸ƒå¼ç³»ç»Ÿ | `error-detective` |
| API 4xx/5xxã€æ•°æ®åº“é”™è¯¯ã€æµ‹è¯•å¤±è´¥ã€é€»è¾‘é”™è¯¯ | **å…¶ä»–** | `debugger` |

### Step 1: åŠ è½½å¯¹åº” Agent

æ ¹æ® Step 0 çš„åˆ†ç±»ï¼Œè°ƒç”¨å¯¹åº” Agentï¼š

- TypeScript ç¼–è¯‘é”™è¯¯ â†’ Call /auto-error-resolver
- æµè§ˆå™¨/UI é”™è¯¯ â†’ Call /frontend-error-fixer
- è®¤è¯/è·¯ç”±é”™è¯¯ â†’ Call /auth-route-debugger
- å…¶ä»–ç±»å‹ â†’ Call /debugger

### Step 2: æ‰§è¡Œè¯Šæ–­

**é€šç”¨è¯Šæ–­æµç¨‹**:

1. **æ•è·é”™è¯¯ä¿¡æ¯**
   - é”™è¯¯æ¶ˆæ¯å’Œå †æ ˆè·Ÿè¸ª
   - é‡ç°æ­¥éª¤
   - ç¯å¢ƒä¿¡æ¯

2. **å®šä½é—®é¢˜**
   ```bash
   # æŸ¥çœ‹æœ€è¿‘ä¿®æ”¹
   git diff --name-only HEAD~3
   
   # æœç´¢é”™è¯¯å…³é”®è¯
   grep -rn "{é”™è¯¯å…³é”®è¯}" src/
   ```

3. **å½¢æˆå‡è®¾**
   - æœ€è¿‘å˜æ›´äº†ä»€ä¹ˆï¼Ÿ
   - å·¥ä½œç¯å¢ƒå’Œæ•…éšœç¯å¢ƒæœ‰ä»€ä¹ˆä¸åŒï¼Ÿ
   - å¯èƒ½çš„å¤±è´¥ç‚¹åœ¨å“ªé‡Œï¼Ÿ

4. **æµ‹è¯•å‡è®¾**
   - äºŒåˆ†æ³•ç¼©å°èŒƒå›´
   - æ·»åŠ ç­–ç•¥æ€§æ—¥å¿—
   - éš”ç¦»ç»„ä»¶æµ‹è¯•

### Step 3: å®æ–½ä¿®å¤

- æœ€å°åŒ–ä¿®æ”¹ï¼Œåªä¿®ç›¸å…³ä»£ç 
- ä¿ç•™ç°æœ‰åŠŸèƒ½
- æ·»åŠ å¿…è¦çš„é”™è¯¯å¤„ç†

### Step 4: éªŒè¯ä¿®å¤

```bash
# TypeScript é”™è¯¯
npx tsc --noEmit

# æµ‹è¯•
npm test

# æ„å»º
npm run build
```

---

## å¤æ‚é—®é¢˜å¤„ç†

è‹¥ Step 2-4 æœªèƒ½è§£å†³é—®é¢˜ï¼Œè°ƒç”¨ä¸“é—¨ Agentï¼š

### ä½¿ç”¨ `debugging-strategies` Agent

Call /debugging-strategies

é€‚ç”¨äºï¼š
- é—´æ­‡æ€§ Bug
- æ€§èƒ½é—®é¢˜
- ç”Ÿäº§ç¯å¢ƒä¸“å±é—®é¢˜
- éœ€è¦ Git Bisect çš„å›å½’é—®é¢˜

### ä½¿ç”¨ `error-handling-patterns` Agent

Call /error-handling-patterns

é€‚ç”¨äºï¼š
- éœ€è¦é‡æ„é”™è¯¯å¤„ç†é€»è¾‘
- å®ç° Circuit Breaker
- æ·»åŠ é‡è¯•æœºåˆ¶

### ä½¿ç”¨ `error-tracking` Agent

Call /error-tracking

é€‚ç”¨äºï¼š
- é…ç½® Sentry ç›‘æ§
- éœ€è¦è¿½è¸ªç”Ÿäº§ç¯å¢ƒé”™è¯¯
- æ·»åŠ æ€§èƒ½ç›‘æ§

---

## è¾“å‡ºæ ¼å¼

```markdown
# ğŸ”§ è°ƒè¯•æŠ¥å‘Š

**é”™è¯¯ç±»å‹**: {TypeScript/UI/è®¤è¯/å…¶ä»–}
**ä½¿ç”¨ Agent**: {agent-name}
**è¯Šæ–­æ—¥æœŸ**: {æ—¥æœŸ}

## é—®é¢˜æ‘˜è¦

- **é”™è¯¯æ¶ˆæ¯**: `{error message}`
- **ä½ç½®**: `{file}` L{line}
- **é‡ç°æ­¥éª¤**: (å¦‚é€‚ç”¨)

## æ ¹å› åˆ†æ

{è¯¦ç»†è¯´æ˜é—®é¢˜çš„æ ¹æœ¬åŸå› }

**è¯æ®**:
- {æ”¯æŒè¯Šæ–­çš„è¯æ® 1}
- {æ”¯æŒè¯Šæ–­çš„è¯æ® 2}

## ä¿®å¤æ–¹æ¡ˆ

```{language}
// âŒ é—®é¢˜ä»£ç 
{bad_code}

// âœ… ä¿®å¤å
{good_code}
```

## éªŒè¯ç»“æœ

- [ ] TypeScript ç¼–è¯‘é€šè¿‡
- [ ] æµ‹è¯•é€šè¿‡
- [ ] æ„å»ºæˆåŠŸ

## é¢„é˜²å»ºè®®

{å¦‚ä½•é¿å…ç±»ä¼¼é—®é¢˜å†æ¬¡å‘ç”Ÿ}
```

---

## ç›¸å…³æ–‡ä»¶

- Agent ç›®å½•ï¼š`.agent/workflows/debug/`
- Skill ç›®å½•ï¼š`.agent/doc/skills/`

---

**Version**: 1.0 | **Created**: 2025-12-21
