---
description: äº§å“ç»ç† Agent å·¥ä½œæµ - ä»¥ PM è§†è§’åˆ†æéœ€æ±‚ã€å‘ç°æ¼æ´ã€ç»†åŒ–è§„æ ¼
---

# Product Manager Agent Workflow

> **æ ¸å¿ƒç†å¿µ**: ä»£ç è€ƒå¤ + æ‰¹åˆ¤æ€§åˆ†æ + ç”¨æˆ·å¿ƒç†æ´å¯Ÿ + äº§å“è§†è§’ç²¾ç‚¼
> **é€‚ç”¨åœºæ™¯**: å½“ç”¨æˆ·æå‡ºéœ€æ±‚æˆ–é‡åˆ° bug æ—¶ï¼Œä»¥äº§å“ç»ç†è§†è§’è¿›è¡Œåˆ†æ

## ğŸ“š Agent Roster

| Agent | æ–‡ä»¶è·¯å¾„ | é˜¶æ®µ |
|-------|---------|------|
| **code-archaeologist** | [code-archaeologist.md](pm-agent/code-archaeologist.md) | Phase 0 |
| **critical-analyst** | [critical-analyst.md](pm-agent/critical-analyst.md) | Phase 1 |
| **user-psychologist** | [user-psychologist.md](pm-agent/user-psychologist.md) | Phase 2 |
| **product-refiner** | [product-refiner.md](pm-agent/product-refiner.md) | Phase 3 |

---

## ğŸ“ è¾“å‡ºç›®å½•

```
artifacts/{feature-name}/
â”œâ”€â”€ ä»£ç è€ƒå¤æŠ¥å‘Š.md     # Phase 0
â”œâ”€â”€ æ¼æ´åˆ†ææŠ¥å‘Š.md     # Phase 1
â”œâ”€â”€ ç”¨æˆ·å¿ƒç†æŠ¥å‘Š.md     # Phase 2
â””â”€â”€ Feature_Spec.md    # Phase 3 (ä¸»äº¤ä»˜ç‰©)
```

---

## ğŸ“‹ Phase 0: ä»£ç è€ƒå¤

Call /code-archaeologist

**INPUT**: ç”¨æˆ·çš„è‡ªç„¶è¯­è¨€éœ€æ±‚æè¿°
**OUTPUT**: ä»£ç è€ƒå¤æŠ¥å‘Š (Markdown)

### Step 0.1: ç†è§£ç°æœ‰ä»£ç 

**æ‰§è¡Œ**:
1. ä»éœ€æ±‚å…³é”®è¯æ¨æ–­ç›¸å…³ç›®å½•
2. æ‰«ææ¶æ„ (`find src -maxdepth 2`)
3. è¯»å–æ ¸å¿ƒé…ç½® (schema.ts, CLAUDE.md)
4. æ³¨å…¥è§„èŒƒ (UIUX_Guidelines, Security_Guidelines)

**OUTPUT å†…å®¹**:
- æŠ€æœ¯æ ˆ
- ç›¸å…³æ–‡ä»¶
- ç¦æ­¢åŒºåŸŸ ğŸš¨
- å¯å¤ç”¨èµ„æº âœ…
- çº¦æŸæ‘˜è¦ (ä¾›ä¸‹æ¸¸ä½¿ç”¨)

**GATE**:
- âŒ REJECT: æ— æ³•è®¿é—®ä»»ä½•ç›¸å…³ä»£ç 
- âš ï¸ WARNING: è§„èŒƒæ–‡ä»¶ç¼ºå¤±
- âœ… PASS: å®Œæˆæ‰«æ

### â¸ï¸ CHECKPOINT 0
> **æ£€æŸ¥ç‚¹**: ç¡®è®¤ä»£ç çº¦æŸå·²è¯†åˆ«
> **å›å¤**: "ç»§ç»­" æˆ–è¡¥å……è·¯å¾„ä¿¡æ¯

---

## ğŸ“‹ Phase 1: æ‰¹åˆ¤æ€§åˆ†æ

Call /critical-analyst

**INPUT**: ç”¨æˆ·éœ€æ±‚ + çº¦æŸæ‘˜è¦ (from Phase 0)
**OUTPUT**: æ¼æ´åˆ†ææŠ¥å‘Š (Markdown)

### Step 1.1: éœ€æ±‚æ‹†è§£ä¸æ”»å‡»

**æ‰§è¡Œ**:
1. æ‹†åˆ†éœ€æ±‚ä¸º REQ-1, REQ-2...
2. å¯¹æ¯ä¸ª REQ ä½¿ç”¨ 5 ç»´åº¦é—®é¢˜çŸ©é˜µ:
   - è¾¹ç•Œ (ç©ºå€¼/æœ€å¤§å€¼/æœ€å°å€¼)
   - å¼‚å¸¸ (API å¤±è´¥/è¶…æ—¶/å–æ¶ˆ)
   - çŠ¶æ€ (åˆå§‹/ä¸­é—´/æœ€ç»ˆ)
   - çº¦æŸ (ä¸æŠ€æœ¯æ ˆå†²çª?)
   - æ­§ä¹‰ (ç”¨è¯æœ‰äºŒä¹‰æ€§?)
3. è¯„ä¼°ä¸¥é‡åº¦ (CRITICAL/HIGH/MEDIUM/LOW)

**OUTPUT å†…å®¹**:
- éœ€æ±‚æ‹†è§£è¡¨
- æ¼æ´æ¸…å• (æŒ‰ä¸¥é‡åº¦åˆ†ç»„)
- ç»Ÿè®¡æ‘˜è¦

**GATE**:
- âŒ REJECT: æ— çº¦æŸæ‘˜è¦è¾“å…¥
- âš ï¸ PAUSE: æœ‰ CRITICAL æ¼æ´ï¼Œéœ€ç”¨æˆ·ç¡®è®¤
- âœ… PASS: å®Œæˆåˆ†æ

### â¸ï¸ CHECKPOINT 1 (æ¡ä»¶è§¦å‘)
> **è§¦å‘æ¡ä»¶**: å­˜åœ¨ CRITICAL æ¼æ´
> **æ£€æŸ¥ç‚¹**: ç¡®è®¤æ˜¯å¦ç»§ç»­
> **é€‰é¡¹**: 
> - "ç»§ç»­" â†’ è¿›å…¥ Phase 2
> - "æ”¾å¼ƒ" â†’ ç»“æŸå·¥ä½œæµ

---

## ğŸ“‹ Phase 2: å¿ƒç†æ´å¯Ÿ

Call /user-psychologist

**INPUT**: ç”¨æˆ·éœ€æ±‚ + æ¼æ´åˆ†ææ‘˜è¦ (from Phase 1)
**OUTPUT**: ç”¨æˆ·å¿ƒç†æŠ¥å‘Š (Markdown)

### Step 2.1: æ·±å±‚åŠ¨æœºæŒ–æ˜

**æ‰§è¡Œ**:
1. 5 Why åˆ†æ: ä»è¡¨é¢éœ€æ±‚æŒ–æ˜æ·±å±‚åŠ¨æœº
2. å¿ƒç†å»ºæ¨¡: åˆ†æç”¨æˆ·çš„æœŸæœ›/æ‹…å¿§/å›°æƒ‘/æŒ«è´¥/æ„‰æ‚¦
3. è®¤çŸ¥è´Ÿè½½è¯„ä¼°: å­¦ä¹ æˆæœ¬/æ“ä½œå¤æ‚åº¦/å¿ƒæ™ºè´Ÿæ‹…

**OUTPUT å†…å®¹**:
- è¡¨é¢ vs æ·±å±‚éœ€æ±‚
- å¿ƒç†å»ºæ¨¡è¡¨
- è®¤çŸ¥è´Ÿè½½è¯„ä¼°
- å¿ƒç†å½±å“è¡¨ (ä¾› Phase 3 ä½¿ç”¨)

**GATE**:
- âš ï¸ WARNING: åŠ¨æœºä¸æ˜ï¼Œæ ‡æ³¨éœ€ç¡®è®¤
- âœ… PASS: å®Œæˆå¿ƒç†åˆ†æ

### â¸ï¸ CHECKPOINT 2
> **æ£€æŸ¥ç‚¹**: ç¡®è®¤å¿ƒç†åˆ†æåˆç†
> **å›å¤**: "ç»§ç»­" æˆ–è¡¥å……ç”¨æˆ·èƒŒæ™¯

---

## ğŸ“‹ Phase 3: éœ€æ±‚ç²¾ç‚¼

Call /product-refiner

**INPUT**: 3 ä»½ä¸Šæ¸¸æŠ¥å‘Š (Phase 0/1/2)
**OUTPUT**: Feature_Spec.md (ä¸»äº¤ä»˜ç‰©)

### Step 3.1: ç»¼åˆå†³ç­–

**æ‰§è¡Œ**:
1. åˆ›å»ºå†³ç­–çŸ©é˜µ (æŠ€æœ¯å¯è¡Œæ€§/æ¼æ´é£é™©/ç”¨æˆ·ä»·å€¼)
2. ç¼–å†™åŠŸèƒ½è§„æ ¼:
   - çŠ¶æ€æœºå®šä¹‰
   - ç©ºå€¼/è¾¹ç•Œå¤„ç†
   - UI è§„æ ¼ (å¼•ç”¨ CBDS)
   - éªŒæ”¶æ ‡å‡† (Given-When-Then)
3. äº§å‡ºæ–½å·¥äº¤æ¥æ¸…å•

**OUTPUT å†…å®¹**:
- éœ€æ±‚èƒŒæ™¯ (åŸè¯ + æ·±å±‚åŠ¨æœº + ä¿®æ­£)
- æŠ€æœ¯çº¦æŸ (ç¦æ­¢åŒºåŸŸ + å¯å¤ç”¨èµ„æº)
- åŠŸèƒ½è§„æ ¼ (çŠ¶æ€æœº + AC)
- å¿ƒç†å½±å“è¯„ä¼°
- æ–½å·¥äº¤æ¥æ¸…å•

**GATE**:
- âŒ REJECT: ä¸Šæ¸¸æŠ¥å‘Šä¸å®Œæ•´
- âš ï¸ PAUSE: å­˜åœ¨æœªè§£å†³çš„ CRITICAL æ¼æ´
- âœ… PASS: äº§å‡ºå®Œæ•´ Feature_Spec.md

---

## ğŸ“‹ Phase 4: äººå·¥å®¡æ ¸ (MANDATORY)

**INPUT**: Feature_Spec.md + è¿‡ç¨‹æŠ¥å‘Š
**OUTPUT**: å®¡æ ¸å†³ç­–

### Step 4.1: å‘ˆç°å®¡æ ¸ææ–™

**æ‰§è¡Œ**:
- å±•ç¤º Feature_Spec.md å®Œæ•´å†…å®¹
- å±•ç¤ºæ¼æ´ç»Ÿè®¡ (CRITICAL/HIGH/MEDIUM/LOW)
- é«˜äº®ç”¨æˆ·å¿ƒç†åˆ†æç»“è®º

### â¸ï¸ CHECKPOINT 4 (ä¸å¯è·³è¿‡)
> **æ£€æŸ¥ç‚¹**: äººå·¥å®¡æ ¸ Feature Spec
> **é€‰é¡¹**:
> - **"åº”ç”¨"** â†’ è¾“å‡ºæœ€ç»ˆæ–‡ä»¶
> - **"ä¿®æ”¹"** â†’ è¿”å› Phase 3
> - **"æ”¾å¼ƒ"** â†’ ç»“æŸå·¥ä½œæµ

---

## âœ… æœ€ç»ˆè¾“å‡º

**ä¸»äº¤ä»˜ç‰©**: `artifacts/{feature-name}/Feature_Spec.md`

**è¿‡ç¨‹æ–‡ä»¶**:
| æ–‡ä»¶ | æ¥æº | ç”¨é€” |
|------|------|------|
| ä»£ç è€ƒå¤æŠ¥å‘Š.md | Phase 0 | æŠ€æœ¯çº¦æŸæº¯æº |
| æ¼æ´åˆ†ææŠ¥å‘Š.md | Phase 1 | é£é™©è¿½è¸ª |
| ç”¨æˆ·å¿ƒç†æŠ¥å‘Š.md | Phase 2 | å†³ç­–ä¾æ® |

**ä¸‹æ¸¸å·¥ä½œæµ**: `/1-feature-dev` (è¯»å– Feature_Spec.md å¼€å§‹æ–½å·¥)
**å¯é€‰ä¸‹æ¸¸**: `/0-uiux-designer` (å¦‚éœ€ UIUX è®¾è®¡è§„æ ¼)

---

## Quality Checklist

- [ ] ä»£ç è€ƒå¤å®Œæˆï¼Œçº¦æŸå·²è¯†åˆ« (Phase 0)
- [ ] æ¼æ´åˆ†æå®Œæˆï¼Œå·²è¯†åˆ«ä¸»è¦é£é™©ç‚¹ (Phase 1)
- [ ] å¿ƒç†åˆ†æå®Œæˆï¼Œæ·±å±‚åŠ¨æœºå·²æŒ–æ˜ (Phase 2)
- [ ] Feature Spec å®Œæˆï¼ŒAC å¯æµ‹è¯• (Phase 3)
- [ ] **äººå·¥å®¡æ ¸é€šè¿‡ (Phase 4)**

---

**Version**: 1.1 | **Created**: 2025-12-25 | **Updated**: v1.1 - INPUT ç»“æ„åŒ–ã€REJECT GATEã€AC åŒè·¯å¾„è¦æ±‚
